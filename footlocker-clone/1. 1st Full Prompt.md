This is the pivot point. We are abandoning the "fix-it-as-we-go" approach. We are shifting to an Enterprise Validation Protocol.

The failure pattern was: Jules writes code -> You try to run it -> It fails -> You act as a messenger -> Confusion. The new pattern is: Jules writes code -> Jules generates a validation script -> You run the script -> The script tells Gemini CLI the result -> Gemini CLI updates the Plan.

Here is the Master Architecture for your FootLocker.ca clone (MedusaJS 2.0 + Next.js 15).

Phase 1: The "Human" Files (Copy These Now)
Create a new folder named footlocker-clone. Inside, create these 3 files. They are the "Brains" of the operation.

1. AI_MANDATE.md (The Constitution)
This file prevents Jules from hallucinating old stacks.

Markdown

# AI DEVELOPMENT MANDATE
**Project:** FootLocker Clone (Enterprise Grade)
**Stack:** MedusaJS v2.0 (Backend) + Next.js 15 (Storefront)
**Infrastructure:** Docker Compose (Strict)

## 1. THE PRIME DIRECTIVE
- **Validation is Law:** No task is "Done" until a specific validation script (bash or node) returns "SUCCESS".
- **No Hallucinations:** You are using Medusa 2.0. Do not suggest plugins or syntax from v1.x (e.g., avoid old `medusa-interfaces`).
- **Container First:** Assume the user's host OS is "dirty". Run EVERYTHING in Docker.

## 2. THE VALIDATION PROTOCOL
When asked to build a feature:
1. Write the code.
2. Write a `validate_feature.sh` script to test it.
3. Instruct the user to run: `bash validate_feature.sh`.
4. Only when the user pastes "SUCCESS" output do you mark it complete.
2. PROJECT_PLAN.md (The Living Map)
Gemini CLI will update this file. Do not edit it manually.

Markdown

# PROJECT EXECUTION PLAN

## Phase 1: Infrastructure (The Foundation)
- [ ] **Step 1.1:** Setup Docker Compose for Medusa 2.0 + Postgres + Redis. (Status: PENDING)
- [ ] **Step 1.2:** Verify Backend Health (Port 9000). (Status: PENDING)
- [ ] **Step 1.3:** Setup Next.js 15 Storefront & Connect to Backend. (Status: PENDING)

## Phase 2: Core Commerce
- [ ] **Step 2.1:** Seed Database with Dummy Sneakers (Nike/Adidas).
- [ ] **Step 2.2:** Verify "Add to Cart" functionality via API test.
- [ ] **Step 2.3:** Checkout Flow Smoke Test.

## Phase 3: The "FootLocker" Polish
- [ ] **Step 3.1:** Implement Mega-Menu Navigation.
- [ ] **Step 3.2:** Brand Styling (Fonts/Colors matching FootLocker.ca).
3. STRATEGY.md (The "Why")
Markdown

# ARCHITECTURE STRATEGY
- **Backend:** MedusaJS 2.0. Why? It handles the complex "shoe size variant" logic out of the box better than custom MERN.
- **Frontend:** Next.js 15 (App Router). Why? SEO is critical for e-commerce.
- **Database:** Postgres 16 (Dockerized).
- **Search:** Meilisearch (Dockerized). Why? FootLocker needs instant search (e.g., "Jordan 1 Red").
Phase 2: The "Jules" Mega-Prompt
Do not use the standard chat. Copy this exact block into a new Jules session. This configures Jules as the "Lead Engineer."

System Role: You are the Lead Architect for a high-end MedusaJS 2.0 e-commerce project. Context: We are building a clone of FootLocker.ca. The user is on Ubuntu. Constraint: Read AI_MANDATE.md immediately. You are forbidden from guessing. You must use docker-compose for all infrastructure.

Current Objective: Execute Step 1.1 of PROJECT_PLAN.md. Task:

Create a docker-compose.yml file that defines:

postgres (User: postgres, DB: medusa-store)

redis

medusa-backend (Node 20 image, installing @medusajs/medusa-cli globally)

Create a validate_setup.sh script that:

Checks if Docker is running.

Pings the Postgres container to ensure it's accepting connections.

Tell me exactly what terminal command to run to launch this.

Phase 3: The "Gemini CLI" Integration
When you are in your terminal, you will use Gemini CLI to "manage" the project state.

Your new Terminal Workflow:

Run Jules's Command: (e.g., docker compose up -d)

Run Validation: bash validate_setup.sh

If Success: Paste the output into Gemini CLI with this prompt:

"I have completed Step 1.1. Here is the validation log showing SUCCESS. Please update PROJECT_PLAN.md to mark Step 1.1 as [x] COMPLETED and output the updated file content so I can save it."

Phase 4: Spoon-Fed Instructions (Start Here)
Step 1: Open your Ubuntu terminal. Step 2: Create the directory.

Bash

mkdir footlocker-clone
cd footlocker-clone
Step 3: Create the 3 files (AI_MANDATE.md, PROJECT_PLAN.md, STRATEGY.md) with the content above. Step 4: PASTE the "Jules Mega-Prompt" (from Phase 2) into your Jules chat window. Step 5: Run the commands Jules gives you.

Relevance of the Video below: This video demonstrates the specific workflow of setting up Medusa 2.0 with Docker, which is the exact technical step you are about to take. It visualizes the "Container" concept we are enforcing.

MedusaJS 2.0 is officially production ready! Launch your own webshop in less than 10 minutes

https://www.gstatic.com/images/branding/productlogos/youtube/v9/192px.svghttps://youtu.be/Gr5F2j5B-os